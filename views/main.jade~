- if (hero)
	h1 Combat
	div(id='hero')
	h2 #{hero.name} (level #{hero.level})
	ul
		li exp : #{hero.exp}
		li health : #{hero.health}
		li attack : #{hero.attack}
		li defense : #{hero.defense}
	div(id='enemies')
		div(class='monster')
			h2 Goblin (level 1)
			ul
				li health : 
					span(id='monster_health') 100
			input(id='attackBtn', type='button', value='Attack')
	input(id='newBtn', type='button', value='New Monster')
	script
		function onclick_attack(){
			var health = this.parentNode.childNodes[1].firstChild.firstChild.nextSibling;
			health.innerHTML = health.innerHTML - 10;
			if( health.innerHTML <= 0 ) {
				jx.id('enemies').removeChild(this.parentNode);
			}
		}
		jx.on('attackBtn', 'click', onclick_attack);
		
		jx.on('newBtn','click', function(){
			var monster = document.createElement('div');
			monster.class = 'monster';
			monster.innerHTML = "<h2>Goblin (level 1)</h2><ul><li>health : <span id='monster_health'>100</span></li></ul>"
				+ "<input id='attackBtn' type='button' value='Attack' />"
			jx.id('enemies').appendChild(monster);
			var health = monster.childNodes[1].firstChild.firstChild.nextSibling;
		});
- else
	h1 Hero Creation
	// hero(username, hero.name, attack, defense, health, exp, level)
	form(id='hero')
		label(for='name') name
		input(type='text', id='name', name='name', value='Lea')
		br
		label(for='level') level
		input(type='text', id='level', name='level', value=1)
		br
		label(for='exp') exp 
		input(type='text', id='exp', name='exp', value=0)
		br
		label(for='health') health
		input(type='text', id='health', name='health')
		br
		label(for='attack') attack
		input(type='text', id='attack', name='attack')
		br
		label(for='defense') defense
		input(type='text', id='defense', name='defense')
		br
		input(id='submitBtn', type='button', value='Create')
	script
		jx.on('submitBtn','click', function() {
			var form = jx.id('hero');
			jx.ajax('/newHero', form, function(data) {
				//req.session.hero = data;
				location.reload(true);
			});
		});
		

		
